---
export interface Props {
  retro: {
    year: number;
    title: string;
    description: string;
    duration: string;
    thumbnail?: string;
    slug: string;
  };
  index: number;
}

const { retro, index } = Astro.props;
const delay = index * 200;
---
<a href={`/blog/${retro.slug}`}>
  <div
    class="group cursor-pointer animated-card opacity-0"
    style={`transition-delay: ${delay}ms;`}
    data-card-index={index}
  >
    <div
      class="relative mb-6 rounded-2xl overflow-hidden bg-gradient-to-br from-purple-800/80 via-violet-900/80 to-slate-800/80 aspect-video border border-purple-500/20 backdrop-blur-sm transform transition-all duration-500 hover:rotate-1"
    >
      <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent group-hover:from-black/40 transition-all duration-500"></div>
      <div class="absolute bottom-4 left-4 flex items-center text-gray-300 text-sm z-10 transform transition-all duration-300 group-hover:scale-110">
        <svg class="w-4 h-4 mr-2 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        {retro.duration}
      </div>
      <div class="absolute inset-0 flex items-center justify-center">
        <span class="text-6xl font-black text-white/10 group-hover:text-white/20 transition-all duration-500 transform group-hover:scale-110 group-hover:rotate-3">
          {retro.year}
        </span>
      </div>
      <div class="absolute inset-0 bg-gradient-to-r from-transparent via-purple-500/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-in-out"></div>
      <div class="absolute top-2 right-2 w-1 h-1 bg-purple-400/50 rounded-full animate-pulse"></div>
      <div class="absolute top-8 right-8 w-0.5 h-0.5 bg-violet-300/60 rounded-full animate-ping" style="animation-delay: 1s;"></div>
      <div class="absolute bottom-8 right-4 w-1 h-1 bg-purple-500/40 rounded-full animate-pulse" style="animation-delay: 2s;"></div>
    </div>
    <div class="transform transition-all duration-300 group-hover:translate-y-[-2px]">
      <h3 class="text-xl font-bold text-white mb-3 group-hover:text-purple-300 transition-colors duration-300 leading-tight">
        {retro.title}
      </h3>
      <p class="text-gray-400 leading-relaxed text-sm group-hover:text-gray-300 transition-colors duration-300">
        {retro.description}
      </p>
    </div>
  </div>
</a>

<style>
  .animated-card {
    opacity: 0;
    transform: translateY(30px) scale(0.95);
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
  }

  .animated-card.is-visible {
    opacity: 1;
    transform: translateY(0) scale(1);
  }

  @media (max-width: 768px) {
    .animated-card {
      transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
  }
</style>